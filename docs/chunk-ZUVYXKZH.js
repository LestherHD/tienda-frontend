import{a as H,b as Q}from"./chunk-VXC2LIA7.js";import{a as C,b as L,c as Y}from"./chunk-KEIESMLT.js";import{b as g,f as u,o as A}from"./chunk-XED3NCHW.js";import{a as W,b as G}from"./chunk-SYS5VDD2.js";import{$ as M,Aa as F,Ca as V,D as I,E as a,F as m,Ia as $,M as x,Ma as K,P as d,W as c,X as s,Y as _,Z as z,a as w,aa as l,cb as U,f as y,g as O,hb as k,ib as N,ja as p,ka as v,la as S,ma as D,na as j,oa as E,p as q,qa as R,u as h,v as f,za as T}from"./chunk-L4M4Q24E.js";import"./chunk-Z6EQZUNN.js";function X(i,r){if(i&1){let e=z();c(0,"c-card",8)(1,"div",9),M("click",function(){let o=h(e).$implicit,n=l(2);return f(n.viajarADetalle(o))}),c(2,"div",10)(3,"span",11),p(4),s()(),c(5,"div",10),_(6,"img",12),s(),c(7,"c-card-body",13)(8,"p",14),p(9),s()(),_(10,"br"),c(11,"div",15)(12,"button",16),p(13),s()()()()}if(i&2){let e=r.$implicit,t=l(2);a(4),v(e.nombre),a(2),d("src",e.imagen,I),a(3),S(" ",e.descripcion," "),a(4),S("Q",t.functionsUtils.formatPrice(e.precio),"")}}function Z(i,r){if(i&1&&(c(0,"c-card",5)(1,"c-card-body",6),x(2,X,14,4,"c-card",7),s()()),i&2){let e=l();a(2),d("ngForOf",e.listResponse)}}function tt(i,r){if(i&1){let e=z();c(0,"div",17)(1,"div",18)(2,"ngb-pagination",19),E("pageChange",function(o){h(e);let n=l();return j(n.pagination.page,o)||(n.pagination.page=o),f(o)}),M("pageChange",function(o){h(e);let n=l();return f(n.changePage(o-1))}),s()()()}if(i&2){let e=l();a(2),D("page",e.pagination.page),d("maxSize",e.pagination.maxSize)("pageSize",e.pagination.pageSize)("collectionSize",e.pagination.collectionSize)}}function et(i,r){if(i&1&&(c(0,"p"),p(1,"B\xFAsqueda realizada: "),c(2,"span",23),p(3),s()()),i&2){let e=l(2);a(3),v(e.valorBusquedaBK?e.valorBusquedaBK.value:"")}}function nt(i,r){if(i&1&&(c(0,"c-card",20)(1,"c-card-body",21)(2,"h4"),p(3,"No pudimos encontrar el producto que buscas"),s(),x(4,et,4,1,"p",22),s()()),i&2){let e=l();a(4),d("ngIf",!e.tipoProducto)}}var bt=(()=>{let r=class r{constructor(t,o,n,P){this.service=t,this.functionsUtils=o,this.router=n,this.titleService=P,this.destroy$=new w,this.destroySearch$=new w,this.pagination=new C,this.pagination.page=0,this.pagination.pageSize=30,this.pagination.maxSize=6}ngOnInit(){this.service.isDashboardUrl=!0,this.valorBusqueda=new u("",g.required),this.valorBusquedaBK=new u("",g.required),this.titleService.setTitle("Holandesa"),this.service.search$.pipe(O(this.destroySearch$),y(t=>t!==null)).subscribe(t=>{this.valorBusqueda.setValue(t),this.filtrar()}),this.service.productSearch$.pipe(O(this.destroy$),y(t=>t!==null)).subscribe(t=>{this.valorBusqueda.setValue(""),this.tipoProducto=t,this.filtrarProducto()})}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete(),this.destroySearch$.next(null),this.destroySearch$.complete()}filtrar(){this.valorBusquedaBK=new u(this.valorBusqueda.value,g.required),this.tipoProducto=null,this.getValuesByPage(this.valorBusquedaBK.value,this.tipoProducto,0,this.pagination.pageSize)}filtrarProducto(){this.valorBusquedaBK=new u(this.valorBusqueda.value,g.required),this.getValuesByPage(this.valorBusquedaBK.value.toString().trim(),this.tipoProducto,0,this.pagination.pageSize)}changePage(t){this.pagination.page=t,this.getValuesByPage(this.valorBusquedaBK.value.toString().trim(),this.tipoProducto,this.pagination.page,this.pagination.pageSize)}getValuesByPage(t,o,n,P){this.pagination.page=n+1;let J=new Q(new H(null,t,t,null,null,o,null,null,null,"A"),n,P);this.service.mostrarSpinner=!0,this.service.getFromEntityByFilter("productos",J).subscribe(b=>{this.listResponse=b.content,this.listResponse&&this.listResponse.length>0&&this.listResponse.forEach(B=>{B.imagen="data:image/jpeg;base64,"+B.imagen}),this.pagination.collectionSize=b.totalElements,this.service.mostrarSpinner=!1},b=>{this.service.mostrarSpinner=!1,console.error("Error al consumir Get All")})}viajarADetalle(t){this.service.mostrarSpinner=!0,this.service.activeButtonHeader="";let o={queryParams:{idProduct:t.id}};this.functionsUtils.navigateOption(this.router,"product-detail",o)}};r.\u0275fac=function(o){return new(o||r)(m(G),m(W),m(K),m($))},r.\u0275cmp=q({type:r,selectors:[["app-dashboard-productos"]],standalone:!0,features:[R],decls:7,vars:4,consts:[[1,"d-flex","justify-content-center","flex-column","align-items-center"],[1,"mt-4","tittle"],["class","my-3 ancho-personalizado",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],["class","my-5 ancho-personalizado",4,"ngIf"],[1,"my-3","ancho-personalizado"],[1,"card-container"],["class","card-item",4,"ngFor","ngForOf"],[1,"card-item"],[3,"click"],[1,"justify-content-center","d-flex"],["cCardTitle","",1,"fw-bold","m-2","card-title-custom"],["cCardImg","top",1,"fixed-size-img",2,"border-radius","3px",3,"src"],[1,"card-body-custom","text-center"],["cCardText",""],[1,"justify-content-center","d-flex",2,"padding-bottom","20px"],["cButton","","color","primary"],[1,"d-flex","justify-content-center"],[1,"col-auto"],[3,"pageChange","page","maxSize","pageSize","collectionSize"],[1,"my-5","ancho-personalizado"],[1,"d-flex","justify-content-center","flex-column","align-items-center","align-content-center"],[4,"ngIf"],[2,"font-weight","bold"]],template:function(o,n){o&1&&(c(0,"div",0)(1,"h3",1),p(2),s(),x(3,Z,3,1,"c-card",2)(4,tt,3,4,"div",3)(5,nt,5,1,"c-card",4),s(),_(6,"app-custom-spinner")),o&2&&(a(2),v(n.tipoProducto?n.tipoProducto.nombre:"General"),a(),d("ngIf",n.listResponse&&n.listResponse.length),a(),d("ngIf",n.listResponse&&n.listResponse.length),a(),d("ngIf",!n.listResponse||n.listResponse&&n.listResponse.length===0))},dependencies:[k,N,U,Y,L,C,V,T,F,A],styles:['@charset "UTF-8";ngb-pagination[_ngcontent-%COMP%]     ul>li:not(.active)>a{color:#00b3bae6!important}ngb-pagination[_ngcontent-%COMP%]     ul>li.active>a{background-color:#00b3bae6!important;border-color:#00b3ba80!important}button[_ngcontent-%COMP%]    {background-color:#00b3ba!important;border-color:#00b3ba!important}.tittle[_ngcontent-%COMP%]{color:#0009;font-size:25px}.card-container[_ngcontent-%COMP%]{display:grid;gap:1rem;grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}.fixed-size-img[_ngcontent-%COMP%]{width:200px;height:250px}.card-item[_ngcontent-%COMP%]{border-color:#0000001a;max-height:450px;box-shadow:0 0 6px #0003;transition:transform .3s ease,box-shadow 1ms ease}.card-item[_ngcontent-%COMP%]:hover{box-shadow:0 0 6px #0003;transform:translateY(0);cursor:pointer}.card-body-custom[_ngcontent-%COMP%]{height:100px}.ancho-personalizado[_ngcontent-%COMP%]{width:90%}@media (min-width: 1351px){.tittle[_ngcontent-%COMP%]{color:#0009;font-size:25px}.card-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(25%,1fr))}.fixed-size-img[_ngcontent-%COMP%]{width:12vw;height:20vh}.ancho-personalizado[_ngcontent-%COMP%]{width:70%}.ancho-personalizado-busqueda[_ngcontent-%COMP%]{width:75%}.card-body-custom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;max-width:17vw;height:100px;overflow-y:scroll;text-align:center;margin:0 auto}.card-title-custom[_ngcontent-%COMP%]{font-size:13px}}@media (max-width: 1350px){.tittle[_ngcontent-%COMP%]{color:#0009;font-size:25px}.card-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(30%,1fr))}.fixed-size-img[_ngcontent-%COMP%]{width:13vw;height:19vh}.ancho-personalizado[_ngcontent-%COMP%]{width:80%}.ancho-personalizado-busqueda[_ngcontent-%COMP%]{width:86%}.card-body-custom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px;max-width:22vw;height:100px;overflow-y:scroll;text-align:center;margin:0 auto}.card-title-custom[_ngcontent-%COMP%]{font-size:12px}}@media (max-width: 992px){.tittle[_ngcontent-%COMP%]{color:#0009;font-size:24px}.card-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(31%,1fr))}.fixed-size-img[_ngcontent-%COMP%]{width:17vw;height:17vh}.ancho-personalizado[_ngcontent-%COMP%]{width:90%}.ancho-personalizado-busqueda[_ngcontent-%COMP%]{width:92%}.card-body-custom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px;max-width:21vw;height:100px;overflow-y:scroll;text-align:center;margin:0 auto}.card-title-custom[_ngcontent-%COMP%]{font-size:12px}}@media (max-width: 768px){.tittle[_ngcontent-%COMP%]{color:#0009;font-size:22px}.card-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(48%,1fr))}.fixed-size-img[_ngcontent-%COMP%]{width:24vw;height:19vh}.ancho-personalizado[_ngcontent-%COMP%], .ancho-personalizado-busqueda[_ngcontent-%COMP%]{width:90%}.card-body-custom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px;max-width:34vw;height:100px;overflow-y:scroll;text-align:center;margin:0 auto}.card-title-custom[_ngcontent-%COMP%]{font-size:12px}}@media (max-width: 576px){.tittle[_ngcontent-%COMP%]{color:#0009;font-size:23px}.card-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(49%,1fr))}.fixed-size-img[_ngcontent-%COMP%]{width:35vw;height:15vh}.ancho-personalizado[_ngcontent-%COMP%]{width:60%}.ancho-personalizado-busqueda[_ngcontent-%COMP%]{width:87%}.card-body-custom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px;max-width:40vw;height:100px;overflow-y:scroll;text-align:center;margin:0 auto}.card-title-custom[_ngcontent-%COMP%]{font-size:12px}}']});let i=r;return i})();export{bt as DashboardProductosComponent};
