import{a as G,b as Q}from"./chunk-VXC2LIA7.js";import{a as b,b as L,c as Y}from"./chunk-ZY5SALLP.js";import{b as g,f as h,o as A}from"./chunk-2QMXGGER.js";import{a as W,b as H}from"./chunk-SAU334YA.js";import{$ as z,Aa as V,Ca as F,D as I,E as a,F as m,Ia as T,M as x,Ma as $,P as d,W as c,X as s,Y as _,Z as M,a as P,aa as l,f as y,g as O,gb as K,ja as p,ka as v,la as S,lb as U,ma as k,mb as N,na as j,oa as D,p as q,qa as E,u,v as f,za as R}from"./chunk-DLMEP7QF.js";import"./chunk-Z6EQZUNN.js";function X(n,r){if(n&1){let e=M();c(0,"c-card",8)(1,"div",9),z("click",function(){let o=u(e).$implicit,i=l(2);return f(i.viajarADetalle(o))}),_(2,"br"),c(3,"div",10),_(4,"img",11),s(),c(5,"c-card-body",12)(6,"p"),p(7),s()(),c(8,"div",13)(9,"span",14),p(10),s()(),c(11,"div",15)(12,"button",16),p(13),s()()()()}if(n&2){let e=r.$implicit,t=l(2);a(4),d("src",e.imagen,I),a(3),S(" ",e.descripcion," "),a(3),v(e.nombre),a(3),S("Q",t.functionsUtils.formatPrice(e.precio),"")}}function Z(n,r){if(n&1&&(c(0,"c-card",5)(1,"c-card-body",6),x(2,X,14,4,"c-card",7),s()()),n&2){let e=l();a(2),d("ngForOf",e.listResponse)}}function tt(n,r){if(n&1){let e=M();c(0,"div",17)(1,"div",18)(2,"ngb-pagination",19),D("pageChange",function(o){u(e);let i=l();return j(i.pagination.page,o)||(i.pagination.page=o),f(o)}),z("pageChange",function(o){u(e);let i=l();return f(i.changePage(o-1))}),s()()()}if(n&2){let e=l();a(2),k("page",e.pagination.page),d("maxSize",e.pagination.maxSize)("pageSize",e.pagination.pageSize)("collectionSize",e.pagination.collectionSize)}}function et(n,r){if(n&1&&(c(0,"p"),p(1,"B\xFAsqueda realizada: "),c(2,"span",23),p(3),s()()),n&2){let e=l(2);a(3),v(e.valorBusquedaBK?e.valorBusquedaBK.value:"")}}function it(n,r){if(n&1&&(c(0,"c-card",20)(1,"c-card-body",21)(2,"h4"),p(3,"No pudimos encontrar el producto que buscas"),s(),x(4,et,4,1,"p",22),s()()),n&2){let e=l();a(4),d("ngIf",!e.tipoProducto)}}var wt=(()=>{let r=class r{constructor(t,o,i,C){this.service=t,this.functionsUtils=o,this.router=i,this.titleService=C,this.destroy$=new P,this.destroySearch$=new P,this.pagination=new b,this.pagination.page=0,this.pagination.pageSize=30,this.pagination.maxSize=6}ngOnInit(){this.service.isDashboardUrl=!0,this.valorBusqueda=new h("",g.required),this.valorBusquedaBK=new h("",g.required),this.titleService.setTitle("Holandesa"),this.service.search$.pipe(O(this.destroySearch$),y(t=>t!==null)).subscribe(t=>{this.valorBusqueda.setValue(t),this.filtrar()}),this.service.productSearch$.pipe(O(this.destroy$),y(t=>t!==null)).subscribe(t=>{this.valorBusqueda.setValue(""),this.tipoProducto=t,this.filtrarProducto()})}ngOnDestroy(){this.destroy$.next(null),this.destroy$.complete(),this.destroySearch$.next(null),this.destroySearch$.complete()}filtrar(){this.valorBusquedaBK=new h(this.valorBusqueda.value,g.required),this.tipoProducto=null,this.getValuesByPage(this.valorBusquedaBK.value,this.tipoProducto,0,this.pagination.pageSize)}filtrarProducto(){this.valorBusquedaBK=new h(this.valorBusqueda.value,g.required),this.getValuesByPage(this.valorBusquedaBK.value.toString().trim(),this.tipoProducto,0,this.pagination.pageSize)}changePage(t){this.pagination.page=t,this.getValuesByPage(this.valorBusquedaBK.value.toString().trim(),this.tipoProducto,this.pagination.page,this.pagination.pageSize)}getValuesByPage(t,o,i,C){this.pagination.page=i+1;let J=new Q(new G(null,t,t,null,null,o,null,null,null,"A"),i,C);this.service.mostrarSpinner=!0,this.service.getFromEntityByFilter("productos",J).subscribe(w=>{this.listResponse=w.content,this.listResponse&&this.listResponse.length>0&&this.listResponse.forEach(B=>{B.imagen="data:image/jpeg;base64,"+B.imagen}),this.pagination.collectionSize=w.totalElements,this.service.mostrarSpinner=!1},w=>{this.service.mostrarSpinner=!1,console.error("Error al consumir Get All")})}viajarADetalle(t){this.service.mostrarSpinner=!0,this.service.activeButtonHeader="";let o={queryParams:{idProduct:t.id}};this.functionsUtils.navigateOption(this.router,"product-detail",o)}};r.\u0275fac=function(o){return new(o||r)(m(H),m(W),m($),m(T))},r.\u0275cmp=q({type:r,selectors:[["app-dashboard-productos"]],standalone:!0,features:[E],decls:7,vars:4,consts:[[1,"d-flex","justify-content-center","flex-column","align-items-center"],[1,"mt-4","tittle"],["class","my-3 ancho-personalizado",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],["class","my-5 ancho-personalizado",4,"ngIf"],[1,"my-3","ancho-personalizado"],[1,"card-container"],["class","card-item",4,"ngFor","ngForOf"],[1,"card-item"],[3,"click"],[1,"justify-content-center","d-flex"],["cCardImg","top",1,"fixed-size-img",2,"border-radius","3px",3,"src"],[1,"card-body-custom"],[1,"justify-content-center","d-flex",2,"margin-top","-20px"],["cCardTitle","",1,"fw-bold","m-2","card-title-custom"],[1,"justify-content-center","d-flex",2,"padding-bottom","20px"],["cButton","","color","primary"],[1,"d-flex","justify-content-center"],[1,"col-auto"],[3,"pageChange","page","maxSize","pageSize","collectionSize"],[1,"my-5","ancho-personalizado"],[1,"d-flex","justify-content-center","flex-column","align-items-center","align-content-center"],[4,"ngIf"],[2,"font-weight","bold"]],template:function(o,i){o&1&&(c(0,"div",0)(1,"h3",1),p(2),s(),x(3,Z,3,1,"c-card",2)(4,tt,3,4,"div",3)(5,it,5,1,"c-card",4),s(),_(6,"app-custom-spinner")),o&2&&(a(2),v(i.tipoProducto?i.tipoProducto.nombre:"Cat\xE1logo"),a(),d("ngIf",i.listResponse&&i.listResponse.length),a(),d("ngIf",i.listResponse&&i.listResponse.length),a(),d("ngIf",!i.listResponse||i.listResponse&&i.listResponse.length===0))},dependencies:[U,N,K,Y,L,b,F,R,V,A],styles:['@charset "UTF-8";ngb-pagination[_ngcontent-%COMP%]     ul>li:not(.active)>a{color:#00b3bae6!important}ngb-pagination[_ngcontent-%COMP%]     ul>li.active>a{background-color:#00b3bae6!important;border-color:#00b3ba80!important}button[_ngcontent-%COMP%]    {background-color:#00b3ba!important;border-color:#00b3ba!important}.tittle[_ngcontent-%COMP%]{color:#0009;font-size:25px}.card-container[_ngcontent-%COMP%]{display:grid;gap:1rem;grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}.fixed-size-img[_ngcontent-%COMP%]{width:200px;height:250px}.card-item[_ngcontent-%COMP%]{border-color:#0000001a;max-height:450px;box-shadow:0 0 6px #0003;transition:transform .3s ease,box-shadow 1ms ease;color:#00b3ba}.card-item[_ngcontent-%COMP%]:hover{box-shadow:0 0 6px #0003;transform:translateY(0);cursor:pointer}.card-body-custom[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100px;overflow:hidden}.ancho-personalizado[_ngcontent-%COMP%]{width:90%}.card-title-custom[_ngcontent-%COMP%]{font-family:Varela Round;font-weight:400}@media (min-width: 1351px){.tittle[_ngcontent-%COMP%]{color:#0009;font-size:25px}.card-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(25%,1fr))}.fixed-size-img[_ngcontent-%COMP%]{width:12vw;height:20vh}.ancho-personalizado[_ngcontent-%COMP%]{width:70%}.ancho-personalizado-busqueda[_ngcontent-%COMP%]{width:75%}.card-body-custom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;max-width:17vw;max-height:100%;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;margin:0;text-align:center;line-height:1.2}.card-title-custom[_ngcontent-%COMP%]{font-size:15px}}@media (max-width: 1350px){.tittle[_ngcontent-%COMP%]{color:#0009;font-size:25px}.card-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(30%,1fr))}.fixed-size-img[_ngcontent-%COMP%]{width:13vw;height:19vh}.ancho-personalizado[_ngcontent-%COMP%]{width:80%}.ancho-personalizado-busqueda[_ngcontent-%COMP%]{width:86%}.card-body-custom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;max-width:17vw;max-height:100%;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;margin:0;text-align:center;line-height:1.2}.card-title-custom[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 992px){.tittle[_ngcontent-%COMP%]{color:#0009;font-size:24px}.card-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(31%,1fr))}.fixed-size-img[_ngcontent-%COMP%]{width:17vw;height:17vh}.ancho-personalizado[_ngcontent-%COMP%]{width:90%}.ancho-personalizado-busqueda[_ngcontent-%COMP%]{width:92%}.card-body-custom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;max-width:17vw;max-height:100%;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;margin:0;text-align:center;line-height:1.2}.card-title-custom[_ngcontent-%COMP%]{font-size:13px}}@media (max-width: 768px){.tittle[_ngcontent-%COMP%]{color:#0009;font-size:22px}.card-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(48%,1fr))}.fixed-size-img[_ngcontent-%COMP%]{width:24vw;height:19vh}.ancho-personalizado[_ngcontent-%COMP%], .ancho-personalizado-busqueda[_ngcontent-%COMP%]{width:90%}.card-body-custom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;max-width:25vw;max-height:100%;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;margin:0;text-align:center;line-height:1.2}.card-title-custom[_ngcontent-%COMP%]{font-size:13px}}@media (max-width: 576px){.tittle[_ngcontent-%COMP%]{color:#0009;font-size:23px}.card-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(49%,1fr))}.fixed-size-img[_ngcontent-%COMP%]{width:40vw;height:17vh}.ancho-personalizado[_ngcontent-%COMP%]{width:85%}.ancho-personalizado-busqueda[_ngcontent-%COMP%]{width:87%}.card-body-custom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;max-width:50vw;max-height:100%;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;margin:0;text-align:center;line-height:1.2}.card-title-custom[_ngcontent-%COMP%]{font-size:14px}}']});let n=r;return n})();export{wt as DashboardProductosComponent};
